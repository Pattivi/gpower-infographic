<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Como escolher o tipo de análise estatística</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Importa o hook useState do React
        const { useState } = React;

        // Objeto contendo os ícones SVG para uso em toda a aplicação
        const icons = {
            'analytics': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <path d="M3 3v18h18"></path><path d="M18 10l-6 6-4-4-5 5"></path>
                </svg>
            ),
            'hypothesis': (
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <path d="M8 12c0-2.4 1.4-4 4-4s4 1.6 4 4-1.6 4-4 4"></path><line x1="12" y1="18" x2="12" y2="18"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="12" x2="12.01" y2="12"></line><circle cx="12" cy="12" r="10"></circle>
                </svg>
            ),
            'distribution': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <path d="M16 18l-4-4-4 4"></path><path d="M12 14v6"></path><path d="M3 3v18h18"></path>
                </svg>
            ),
            'barChart': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>
                </svg>
            ),
            'lineChart': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" className="h-6 w-6 text-indigo-500">
                    <path d="M3 3v18h18"></path><path d="M18 10l-6 6-4-4-5 5"></path>
                </svg>
            ),
            'flask': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line><line x1="8" y1="18" x2="16" y2="18"></line><line x1="8" y1="15" x2="16" y2="15"></line>
                </svg>
            ),
            'PlaySquare': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-5 w-5 mr-1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
            ),
            'ChevronRight': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-5 w-5 ml-auto text-indigo-500"><path d="M9 18l6-6-6-6"></path></svg>
            ),
            'check': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-green-500"><polyline points="20 6 9 17 4 12"></polyline></svg>
            ),
            'xCircle': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-red-500"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
            ),
            'error': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-red-500">
                  <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
            ),
            'warning': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-amber-500">
                  <path d="M10.29 3.86L1.83 18a2 2 0 0 0 1.76 3h16.84a2 2 0 0 0 1.76-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
            ),
        };

        // Objeto de traduções para português
        const translations = {
            'pt': {
                title: 'Como escolher o tipo de análise estatística',
                restart: 'Reiniciar',
                intro: 'Entenda os conceitos fundamentais da estatística para escolher o teste mais adequado para a sua pesquisa.',
                step0: {
                    title: 'Os Pilares da Análise Estatística',
                    description: 'Toda análise estatística é construída sobre três pilares: a inferência, a formulação de hipóteses e a distribuição dos dados.',
                    pillars: [
                        {
                            name: 'Estatística Inferencial',
                            description: 'A base da pesquisa. É o processo de tirar conclusões sobre uma grande <strong>população</strong> a partir de uma pequena <strong>amostra</strong> representativa. Permite generalizar resultados e fazer previsões.',
                            icon: icons.analytics,
                        },
                        {
                            name: 'Hipóteses',
                            description: 'O que você quer testar. A <strong>Hipótese Nula (H₀)</strong> afirma que não há diferença ou efeito. A <strong>Hipótese Alternativa (H₁)</strong> afirma que há uma diferença ou um efeito.',
                            icon: icons.hypothesis,
                        },
                        {
                            name: 'Distribuição dos Dados',
                            description: 'A forma como seus dados se comportam. A <strong>distribuição normal</strong> é uma das mais importantes, pois a maioria dos testes estatísticos mais poderosos (paramétricos) dependem dela.',
                            icon: icons.distribution,
                        },
                    ],
                },
                step1: {
                    title: '1. Os Tipos de Erro',
                    description: 'Na bioestatística, as decisões são baseadas em probabilidades, o que significa que há a chance de cometer erros ao rejeitar ou não uma hipótese. Entenda os dois tipos de erro.',
                    errors: [
                        {
                            type: 'Erro Tipo I (α)',
                            description: 'É a probabilidade de <strong>rejeitar a hipótese nula</strong> (H₀) quando ela é, na verdade, verdadeira. Em outras palavras, é a chance de concluir que há um efeito quando ele não existe. O valor de α é geralmente fixado em 0.05.',
                            icon: icons.error,
                        },
                        {
                            type: 'Erro Tipo II (β)',
                            description: 'É a probabilidade de <strong>não rejeitar a hipótese nula</strong> (H₀) quando ela é, na verdade, falsa. Em outras palavras, é a chance de não encontrar um efeito que realmente existe. O poder estatístico (1-β) busca minimizar esse erro.',
                            icon: icons.warning,
                        },
                    ],
                },
                step2: {
                    title: '2. Verificação Visual e Gráfica (Normalidade)',
                    description: 'Comece com a análise visual, que pode ser o primeiro indicador da normalidade dos seus dados.',
                    visualTests: [
                        {
                            name: 'Histograma',
                            description: 'Verifique se a distribuição dos dados se assemelha a uma curva em forma de sino, sem assimetria acentuada ou múltiplos picos.',
                            icon: icons.barChart,
                        },
                        {
                            name: 'QQ-Plot',
                            description: 'Avalie se os pontos de dados seguem uma linha diagonal reta. Desvios significativos podem indicar que a distribuição não é normal.',
                            icon: icons.lineChart,
                        },
                    ],
                },
                step3: {
                    title: '3. Testes de Normalidade Formal',
                    description: 'Use testes estatísticos formais para uma confirmação mais rigorosa. A hipótese nula (H₀) é que os dados são normais. O que você escolhe?',
                    formalTests: [
                        {
                            name: 'Shapiro-Wilk',
                            description: 'Mais adequado para amostras pequenas (n < 50).',
                        },
                        {
                            name: 'Kolmogorov-Smirnov',
                            description: 'Ideal para amostras grandes (n > 50).',
                        },
                    ],
                },
                step4: {
                    title: (test) => `4. Interpretação do Teste ${test}`,
                    description: 'Analise o valor de p (p-value) do teste para tomar a decisão.',
                    interpretationOptions: [
                        {
                            title: 'Se o p-value > 0.05',
                            description: 'Não rejeitamos a hipótese nula. Isso significa que há evidência de que os dados seguem uma distribuição normal.',
                            icon: icons.check,
                        },
                        {
                            title: 'Se o p-value ≤ 0.05',
                            description: 'Rejeitamos a hipótese nula. Isso significa que há evidência de que os dados não seguem uma distribuição normal.',
                            icon: icons.xCircle,
                        },
                    ],
                },
                step5: {
                    title: '5. Escolha do Tipo de Teste Estatístico',
                    description: 'Com base na sua análise de normalidade, escolha a categoria de teste mais adequada para os seus dados.',
                    finalChoice: [
                        {
                            type: 'Testes Paramétricos',
                            condition: 'Dados Normais',
                        },
                        {
                            type: 'Testes Não Paramétricos',
                            condition: 'Dados Não Normais',
                        },
                    ],
                },
                step6: {
                    title: '6. Escolha do Teste Específico',
                    description: 'Agora, selecione o teste que melhor se aplica à sua pesquisa para ver detalhes e exemplos.',
                    detailedTests: {
                        'Testes Paramétricos': {
                            intro: 'Use quando seus dados <strong>seguem uma distribuição normal</strong>. Esses testes usam a <strong>média</strong> e o <strong>desvio padrão</strong> como medidas centrais e de dispersão. São testes mais robustos e poderosos.',
                            list: [
                                { 
                                    name: 'Teste t', 
                                    description: 'Compara as médias de dois grupos (amostras independentes, pareadas ou uma única amostra).',
                                    example: '<strong>Exemplo:</strong> Você quer comparar o peso médio de dois grupos de ratos. Use o Teste t para amostras independentes se os grupos não tiverem relação entre si.'
                                },
                                { 
                                    name: 'ANOVA (Análise de Variância)', 
                                    description: 'Compara as médias de três ou mais grupos. Pode ser de uma via, duas vias, ou de medidas repetidas.',
                                    example: '<strong>Exemplo:</strong> Você quer comparar o nível de glicose entre três grupos: um de controle, um com dieta rica em gordura e outro com dieta balanceada.'
                                },
                            ],
                        },
                        'Testes Não Paramétricos': {
                            intro: 'Use quando seus dados <strong>não seguem uma distribuição normal</strong>. Esses testes usam a <strong>mediana</strong> e o <strong>intervalo interquartil</strong>. São menos sensíveis, mas mais flexíveis, pois não fazem suposições sobre a distribuição.',
                            list: [
                                { 
                                    name: 'Teste de Mann-Whitney', 
                                    description: 'Equivalente não paramétrico do Teste t independente. Compara as distribuições de dois grupos.',
                                    example: '<strong>Exemplo:</strong> Você quer comparar os escores de uma escala de satisfação entre homens e mulheres, mas a distribuição dos escores não é normal.'
                                },
                                { 
                                    name: 'Teste de Kruskal-Wallis', 
                                    description: 'Equivalente não paramétrico da ANOVA de uma via. Compara as distribuições de três ou mais grupos.',
                                    example: '<strong>Exemplo:</strong> Você quer comparar as classificações de desempenho de atletas de três países diferentes, onde a distribuição dos dados não é normal.'
                                },
                            ],
                        },
                    },
                },
            },
        };

        // O texto agora é fixo em português
        const text = translations.pt;

        // Componente principal do aplicativo React
        function App() {
            // Gerencia os estados para a interação do usuário
            const [activePillar, setActivePillar] = useState(null);
            const [activeSection, setActiveSection] = useState(null);
            const [activeTestType, setActiveTestType] = useState(null);
            const [activeDetailedTest, setActiveDetailedTest] = useState(null);

            // Função para resetar todos os estados
            const resetAll = () => {
                setActivePillar(null);
                setActiveSection(null);
                setActiveTestType(null);
                setActiveDetailedTest(null);
            };

            // Renderiza um item do pilar com a descrição completa ou apenas o nome
            const renderPillarItem = (pillar) => {
                return (
                    <button
                        key={pillar.name}
                        onClick={() => setActivePillar(activePillar === pillar.name ? null : pillar.name)}
                        className={`p-6 rounded-2xl transition-all duration-300 transform flex flex-col items-start w-full text-left ${
                            activePillar === pillar.name ? 'bg-indigo-100 ring-2 ring-indigo-500 shadow-md scale-105' : 'bg-gray-100 hover:bg-gray-200 hover:shadow-md'
                        }`}
                    >
                        <div className="flex items-center w-full">
                            {pillar.icon}
                            <span className="ml-3 text-lg font-semibold text-gray-900">{pillar.name}</span>
                            {activePillar !== pillar.name && <div className="ml-auto">{icons['ChevronRight']}</div>}
                        </div>
                        {activePillar === pillar.name && (
                            <div className="mt-4 text-sm text-gray-700" dangerouslySetInnerHTML={{ __html: pillar.description }}></div>
                        )}
                    </button>
                );
            };

            // Renderiza a seção de teste formal
            const renderFormalTestItem = (test) => {
                return (
                    <button
                        key={test.name}
                        onClick={() => setActiveSection(activeSection === test.name ? null : test.name)}
                        className={`p-6 rounded-2xl transition-all duration-300 transform flex flex-col items-start w-full text-left ${
                            activeSection === test.name ? 'bg-indigo-100 ring-2 ring-indigo-500 shadow-md scale-105' : 'bg-gray-100 hover:bg-gray-200 hover:shadow-md'
                        }`}
                    >
                        <div className="flex items-center w-full">
                            {icons['flask']}
                            <span className="ml-3 text-lg font-semibold text-gray-900">{test.name}</span>
                            {activeSection !== test.name && <div className="ml-auto">{icons['ChevronRight']}</div>}
                        </div>
                        {activeSection === test.name && (
                            <p className="mt-4 text-sm text-left text-gray-600" dangerouslySetInnerHTML={{ __html: test.description }}></p>
                        )}
                    </button>
                );
            };

            // Renderiza a seção de escolha final
            const renderFinalChoiceItem = (choice) => {
                return (
                    <button
                        key={choice.type}
                        onClick={() => setActiveTestType(activeTestType === choice.type ? null : choice.type)}
                        className={`p-6 rounded-2xl transition-all duration-300 transform flex flex-col items-start w-full text-left ${
                            activeTestType === choice.type ? 'bg-indigo-100 ring-2 ring-indigo-500 shadow-md scale-105' : 'bg-gray-100 hover:bg-gray-200 hover:shadow-md'
                        }`}
                    >
                        <div className="flex items-center w-full">
                            <span className="text-lg font-semibold text-gray-900">{choice.type}</span>
                            {activeTestType !== choice.type && <div className="ml-auto">{icons['ChevronRight']}</div>}
                        </div>
                        {activeTestType === choice.type && (
                            <p className="mt-4 text-sm text-left text-gray-600" dangerouslySetInnerHTML={{ __html: choice.condition === 'Dados Normais' ? 'Dados <strong>normais</strong>' : 'Dados <strong>não normais</strong>' }}></p>
                        )}
                    </button>
                );
            };

            return (
                <div className="bg-gray-50 min-h-screen p-4 sm:p-8 md:p-12 font-sans antialiased text-gray-800">
                    <div className="container mx-auto max-w-4xl bg-white rounded-3xl shadow-xl p-6 md:p-12">
                        
                        {/* Cabeçalho */}
                        <div className="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 pb-4 border-b border-gray-200">
                            <div>
                                <h1 className="text-2xl md:text-4xl font-bold text-gray-900">{text.title}</h1>
                            </div>
                            <div className="flex items-center space-x-4 mt-4 sm:mt-0">
                                <button
                                    onClick={resetAll}
                                    className="flex items-center text-sm font-semibold text-indigo-600 hover:text-indigo-800 transition-colors"
                                >
                                    {icons['PlaySquare']}
                                    {text.restart}
                                </button>
                            </div>
                        </div>
                        
                        <p className="text-gray-600 mb-6">{text.intro}</p>

                        {/* Etapa 0: Pilares da Análise Estatística */}
                        <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step0.title}</h2>
                        <p className="text-gray-600 mb-6">{text.step0.description}</p>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
                            {text.step0.pillars.map(renderPillarItem)}
                        </div>

                        {/* Nova Etapa 1: Tipos de Erro */}
                        <div className="h-px bg-gray-200 my-8"></div>
                        <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step1.title}</h2>
                        <p className="text-gray-600 mb-6">{text.step1.description}</p>
                        
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                            {text.step1.errors.map(error => (
                                <div key={error.type} className="p-6 rounded-2xl bg-gray-100 shadow-md">
                                    <div className="flex items-center">
                                        {error.icon}
                                        <span className="ml-3 text-lg font-semibold text-gray-900">{error.type}</span>
                                    </div>
                                    <p className="mt-2 text-sm text-left text-gray-600" dangerouslySetInnerHTML={{ __html: error.description }}></p>
                                </div>
                            ))}
                        </div>
                        
                        {/* Etapa 2: Verificação Visual */}
                        <div className="h-px bg-gray-200 my-8"></div>
                        <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step2.title}</h2>
                        <p className="text-gray-600 mb-6">{text.step2.description}</p>
                        
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                            {text.step2.visualTests.map(test => (
                                <div key={test.name} className="p-6 rounded-2xl bg-gray-100 shadow-md">
                                    <div className="flex items-center">
                                        {test.icon}
                                        <span className="ml-3 text-lg font-semibold text-gray-900">{test.name}</span>
                                    </div>
                                    <p className="mt-2 text-sm text-left text-gray-600" dangerouslySetInnerHTML={{ __html: test.description }}></p>
                                </div>
                            ))}
                        </div>

                        {/* Etapa 3: Testes Formais */}
                        <div className="h-px bg-gray-200 my-8"></div>
                        <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step3.title}</h2>
                        <p className="text-gray-600 mb-6">{text.step3.description}</p>
                        
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                            {text.step3.formalTests.map(renderFormalTestItem)}
                        </div>

                        {/* Etapa 4: Interpretação */}
                        {activeSection && (
                            <>
                                <div className="h-px bg-gray-200 my-8"></div>
                                <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step4.title(activeSection)}</h2>
                                <p className="text-gray-600 mb-6">{text.step4.description}</p>
                                
                                <div className="space-y-6">
                                    {text.step4.interpretationOptions.map(option => (
                                        <div key={option.title} className="bg-indigo-50 p-6 rounded-2xl border border-indigo-200">
                                            <div className="flex items-center space-x-3 mb-2">
                                                {option.icon}
                                                <h3 className="text-xl font-bold text-indigo-700">{option.title}</h3>
                                            </div>
                                            <p className="text-gray-700" dangerouslySetInnerHTML={{ __html: option.description }}></p>
                                        </div>
                                    ))}
                                </div>
                            </>
                        )}
                        
                        {/* Etapa 5: Escolha do Tipo de Teste */}
                        {activeSection && (
                            <>
                                <div className="h-px bg-gray-200 my-8"></div>
                                <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step5.title}</h2>
                                <p className="text-gray-600 mb-6">{text.step5.description}</p>
                                
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                                    {text.step5.finalChoice.map(renderFinalChoiceItem)}
                                </div>
                            </>
                        )}
                        
                        {/* Etapa 6: Escolha do Teste Específico */}
                        {activeTestType && (
                            <>
                                <div className="h-px bg-gray-200 my-8"></div>
                                <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step6.title}</h2>
                                <p className="text-gray-600 mb-6" dangerouslySetInnerHTML={{ __html: text.step6.detailedTests[activeTestType].intro }}></p>
                                <div className="space-y-4">
                                    {text.step6.detailedTests[activeTestType].list.map(item => (
                                        <button
                                            key={item.name}
                                            onClick={() => setActiveDetailedTest(activeDetailedTest === item.name ? null : item.name)}
                                            className={`w-full p-4 text-left rounded-lg shadow-sm transition-all duration-300 transform flex flex-col items-start ${
                                                activeDetailedTest === item.name ? 'bg-indigo-200 ring-2 ring-indigo-500' : 'bg-gray-100 hover:bg-gray-200'
                                            }`}
                                        >
                                            <div className="flex items-center w-full">
                                                <h3 className="text-lg font-bold text-gray-900">{item.name}</h3>
                                                {activeDetailedTest !== item.name && <div className="ml-auto">{icons['ChevronRight']}</div>}
                                            </div>
                                            {activeDetailedTest === item.name && (
                                                <div className="mt-2 text-gray-700">
                                                    <p dangerouslySetInnerHTML={{ __html: item.description }}></p>
                                                    <p className="mt-2" dangerouslySetInnerHTML={{ __html: item.example }}></p>
                                                </div>
                                            )}
                                        </button>
                                    ))}
                                </div>
                            </>
                        )}
                    </div>
                </div>
            );
        }

        // Renderiza o componente App no elemento com id 'root'
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
