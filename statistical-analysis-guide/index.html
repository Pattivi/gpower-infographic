<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Como escolher o tipo de análise estatística</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const icons = {
            'barChart': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>
                </svg>
            ),
            'lineChart': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <path d="M3 3v18h18"></path><path d="M18 10l-6 6-4-4-5 5"></path>
                </svg>
            ),
            'flask': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-indigo-500">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line><line x1="8" y1="18" x2="16" y2="18"></line><line x1="8" y1="15" x2="16" y2="15"></line>
                </svg>
            ),
            'PlaySquare': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-5 w-5 mr-1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>
            ),
            'ChevronRight': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-5 w-5 ml-auto text-indigo-500"><path d="M9 18l6-6-6-6"></path></svg>
            ),
            'check': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-green-500"><polyline points="20 6 9 17 4 12"></polyline></svg>
            ),
            'xCircle': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-red-500"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
            ),
            'listChecks': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-green-500"><polyline points="20 6 9 17 4 12"></polyline></svg>
            ),
            'listX': (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6 text-red-500"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            ),
        };

        const translations = {
            'pt': {
                title: 'Como escolher o tipo de análise estatística',
                restart: 'Reiniciar',
                intro: 'Entenda como verificar a normalidade dos seus dados e escolher o teste estatístico mais adequado (paramétrico ou não paramétrico).',
                step1Title: '1. Verificação Visual e Gráfica',
                step1Description: 'Comece com a análise visual, que pode ser o primeiro indicador da normalidade dos seus dados.',
                visualTests: [
                    {
                        name: 'Histograma',
                        description: 'Verifique se a distribuição dos dados se assemelha a uma curva em forma de sino, sem assimetria acentuada ou múltiplos picos.',
                        icon: icons.barChart,
                    },
                    {
                        name: 'QQ-Plot',
                        description: 'Avalie se os pontos de dados seguem uma linha diagonal reta. Desvios significativos podem indicar que a distribuição não é normal.',
                        icon: icons.lineChart,
                    },
                ],
                step2Title: '2. Testes de Normalidade Formal',
                step2Description: 'Use testes estatísticos formais para uma confirmação mais rigorosa. A hipótese nula ($H_0$) é que os dados são normais. O que você escolhe?',
                formalTests: [
                    {
                        name: 'Shapiro-Wilk',
                        description: 'Mais adequado para amostras pequenas (n < 50).',
                    },
                    {
                        name: 'Kolmogorov-Smirnov',
                        description: 'Ideal para amostras grandes (n > 50).',
                    },
                ],
                step3Title: (test) => `3. Interpretação do Teste ${test}`,
                step3Description: 'Analise o valor de p (p-value) do teste para tomar a decisão.',
                interpretationOptions: [
                    {
                        title: 'Se o p-value > 0.05',
                        description: 'Não rejeitamos a hipótese nula. Isso significa que há evidência de que os dados seguem uma distribuição normal.',
                        icon: icons.check,
                    },
                    {
                        title: 'Se o p-value ≤ 0.05',
                        description: 'Rejeitamos a hipótese nula. Isso significa que há evidência de que os dados não seguem uma distribuição normal.',
                        icon: icons.xCircle,
                    },
                ],
                step4Title: '4. Escolha do Tipo de Teste Estatístico',
                step4Description: 'Com base na sua análise de normalidade, escolha a categoria de teste mais adequada para os seus dados.',
                finalChoice: [
                    {
                        type: 'Testes Paramétricos',
                        condition: 'Dados Normais',
                    },
                    {
                        type: 'Testes Não Paramétricos',
                        condition: 'Dados Não Normais',
                    },
                ],
                step5Title: '5. Escolha do Teste Específico',
                step5Description: 'Agora, selecione o teste que melhor se aplica à sua pesquisa para ver detalhes e exemplos.',
                detailedTests: {
                    'Testes Paramétricos': {
                        intro: 'Use quando seus dados <strong>seguem uma distribuição normal</strong> e a variância dos grupos é homogênea. São testes mais robustos e poderosos.',
                        list: [
                            { 
                                name: 'Teste t', 
                                description: 'Compara as médias de dois grupos (amostras independentes, pareadas ou uma única amostra).',
                                example: '<strong>Exemplo:</strong> Você quer comparar o peso médio de dois grupos de ratos. Use o Teste t para amostras independentes se os grupos não tiverem relação entre si.'
                            },
                            { 
                                name: 'ANOVA (Análise de Variância)', 
                                description: 'Compara as médias de três ou mais grupos. Pode ser de uma via, duas vias, ou de medidas repetidas.',
                                example: '<strong>Exemplo:</strong> Você quer comparar o nível de glicose entre três grupos: um de controle, um com dieta rica em gordura e outro com dieta balanceada.'
                            },
                        ],
                    },
                    'Testes Não Paramétricos': {
                        intro: 'Use quando seus dados <strong>não seguem uma distribuição normal</strong>. São menos sensíveis, mas mais flexíveis, pois não fazem suposições sobre a distribuição.',
                        list: [
                            { 
                                name: 'Teste de Mann-Whitney', 
                                description: 'Equivalente não paramétrico do Teste t independente. Compara as distribuições de dois grupos.',
                                example: '<strong>Exemplo:</strong> Você quer comparar os escores de uma escala de satisfação entre homens e mulheres, mas a distribuição dos escores não é normal.'
                            },
                            { 
                                name: 'Teste de Kruskal-Wallis', 
                                description: 'Equivalente não paramétrico da ANOVA de uma via. Compara as distribuições de três ou mais grupos.',
                                example: '<strong>Exemplo:</strong> Você quer comparar os rankings de desempenho de atletas de três países diferentes, onde a distribuição dos dados não é normal.'
                            },
                        ],
                    },
                },
            },
            'en': {
                title: 'How to choose the type of statistical analysis',
                restart: 'Restart',
                intro: 'Understand how to check the normality of your data and choose the most appropriate statistical test (parametric or non-parametric).',
                step1Title: '1. Visual and Graphical Verification',
                step1Description: 'Start with a visual analysis, which can be the first indicator of your data\'s normality.',
                visualTests: [
                    {
                        name: 'Histogram',
                        description: 'Check if the data distribution resembles a bell-shaped curve, without sharp skewness or multiple peaks.',
                        icon: icons.barChart,
                    },
                    {
                        name: 'QQ-Plot',
                        description: 'Assess whether the data points follow a straight diagonal line. Significant deviations can indicate that the distribution is not normal.',
                        icon: icons.lineChart,
                    },
                ],
                step2Title: '2. Formal Normality Tests',
                step2Description: 'Use formal statistical tests for a more rigorous confirmation. The null hypothesis ($H_0$) is that the data is normal. Which one do you choose?',
                formalTests: [
                    {
                        name: 'Shapiro-Wilk',
                        description: 'Most suitable for small samples (n < 50).',
                    },
                    {
                        name: 'Kolmogorov-Smirnov',
                        description: 'Ideal for large samples (n > 50).',
                    },
                ],
                step3Title: (test) => `3. Interpreting the ${test} Test`,
                step3Description: 'Analyze the p-value of the test to make a decision.',
                interpretationOptions: [
                    {
                        title: 'If p-value > 0.05',
                        description: 'We do not reject the null hypothesis. This means that there is evidence that the data follows a normal distribution.',
                        icon: icons.check,
                    },
                    {
                        title: 'If p-value ≤ 0.05',
                        description: 'We reject the null hypothesis. This means that there is evidence that the data does not follow a normal distribution.',
                        icon: icons.xCircle,
                    },
                ],
                step4Title: '4. Choosing the Statistical Test Type',
                step4Description: 'Based on your normality analysis, choose the most appropriate test type for your data.',
                finalChoice: [
                    {
                        type: 'Parametric Tests',
                        condition: 'Normal Data',
                    },
                    {
                        type: 'Non-Parametric Tests',
                        condition: 'Non-Normal Data',
                    },
                ],
                step5Title: '5. Choosing the Specific Test',
                step5Description: 'Now, select the test that best fits your research to see details and examples.',
                detailedTests: {
                    'Parametric Tests': {
                        intro: 'Use when your data <strong>follows a normal distribution</strong> and the variance of the groups is homogeneous. These are more robust and powerful tests.',
                        list: [
                            { 
                                name: 't-Test', 
                                description: 'Compares the means of two groups (independent, paired, or a single sample).',
                                example: '<strong>Example:</strong> You want to compare the average weight of two groups of mice. Use the independent t-Test if the groups are unrelated.'
                            },
                            { 
                                name: 'ANOVA (Analysis of Variance)', 
                                description: 'Compares the means of three or more groups. Can be one-way, two-way, or repeated measures.',
                                example: '<strong>Example:</strong> You want to compare the glucose level among three groups: a control group, a high-fat diet group, and a balanced diet group.'
                            },
                        ],
                    },
                    'Non-Parametric Tests': {
                        intro: 'Use when your data <strong>does not follow a normal distribution</strong>. These are less sensitive but more flexible, as they make no assumptions about the distribution.',
                        list: [
                            { 
                                name: 'Mann-Whitney Test', 
                                description: 'Non-parametric equivalent of the independent t-test. Compares the distributions of two groups.',
                                example: '<strong>Example:</strong> You want to compare the scores on a satisfaction scale between men and women, but the score distribution is not normal.'
                            },
                            { 
                                name: 'Kruskal-Wallis Test', 
                                description: 'Non-parametric equivalent of one-way ANOVA. Compares the distributions of three or more groups.',
                                example: '<strong>Example:</strong> You want to compare the performance rankings of athletes from three different countries, where the data distribution is not normal.'
                            },
                        ],
                    },
                },
            }
        };

        function App() {
            const [activeSection, setActiveSection] = useState(null);
            const [activeTestType, setActiveTestType] = useState(null);
            const [activeDetailedTest, setActiveDetailedTest] = useState(null);
            const [language, setLanguage] = useState('pt');
            const text = translations[language];

            const resetAll = () => {
                setActiveSection(null);
                setActiveTestType(null);
                setActiveDetailedTest(null);
            };

            const handleLanguageChange = (e) => {
                setLanguage(e.target.value);
            };

            return (
                <div className="bg-gray-50 min-h-screen p-8 font-sans antialiased text-gray-800">
                    <div className="container mx-auto max-w-4xl bg-white rounded-3xl shadow-xl p-8 md:p-12">
                        
                        <div className="flex items-center justify-between mb-8 pb-4 border-b border-gray-200">
                            <div>
                                <h1 className="text-3xl md:text-4xl font-bold text-gray-900">{text.title}</h1>
                            </div>
                            <div className="flex items-center space-x-4">
                                <select onChange={handleLanguageChange} value={language} className="bg-white border border-gray-300 rounded-lg p-2 text-sm font-semibold text-gray-700">
                                    <option value="pt">Português</option>
                                    <option value="en">English</option>
                                </select>
                                <button
                                    onClick={resetAll}
                                    className="flex items-center text-sm font-semibold text-indigo-600 hover:text-indigo-800 transition-colors"
                                >
                                    {icons['PlaySquare']}
                                    {text.restart}
                                </button>
                            </div>
                        </div>

                        {/* Etapa 1: Verificação Visual */}
                        <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step1Title}</h2>
                        <p className="text-gray-600 mb-6">{text.step1Description}</p>
                        
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                            {text.visualTests.map(test => (
                                <div key={test.name} className="p-6 rounded-2xl bg-gray-100 shadow-md">
                                    <div className="flex items-center">
                                        {test.icon}
                                        <span className="ml-3 text-lg font-semibold text-gray-900">{test.name}</span>
                                    </div>
                                    <p className="mt-2 text-sm text-left text-gray-600">{test.description}</p>
                                </div>
                            ))}
                        </div>

                        {/* Etapa 2: Testes Formais */}
                        <div className="h-px bg-gray-200 my-8"></div>
                        <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step2Title}</h2>
                        <p className="text-gray-600 mb-6">{text.step2Description}</p>
                        
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                            {text.formalTests.map(test => (
                                <button
                                    key={test.name}
                                    onClick={() => setActiveSection(activeSection === test.name ? null : test.name)}
                                    className={`p-6 rounded-2xl transition-all duration-300 transform ${
                                        activeSection === test.name ? 'bg-indigo-100 ring-2 ring-indigo-500 shadow-md scale-105' : 'bg-gray-100 hover:bg-gray-200 hover:shadow-md'
                                    }`}
                                >
                                    <div className="flex items-center">
                                        {icons['flask']}
                                        <span className="ml-3 text-lg font-semibold text-gray-900">{test.name}</span>
                                        {activeSection === test.name && icons['ChevronRight']}
                                    </div>
                                    <p className="mt-2 text-sm text-left text-gray-600">{test.description}</p>
                                </button>
                            ))}
                        </div>

                        {/* Etapa 3: Interpretação */}
                        {activeSection && (
                            <>
                                <div className="h-px bg-gray-200 my-8"></div>
                                <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step3Title(activeSection)}</h2>
                                <p className="text-gray-600 mb-6">{text.step3Description}</p>
                                
                                <div className="space-y-6">
                                    {text.interpretationOptions.map(option => (
                                        <div key={option.title} className="bg-indigo-50 p-6 rounded-2xl border border-indigo-200">
                                            <div className="flex items-center space-x-3 mb-2">
                                                {option.icon}
                                                <h3 className="text-xl font-bold text-indigo-700">{option.title}</h3>
                                            </div>
                                            <p className="text-gray-700">{option.description}</p>
                                        </div>
                                    ))}
                                </div>
                            </>
                        )}
                        
                        {/* Etapa 4: Escolha do Tipo de Teste */}
                        {activeSection && (
                            <>
                                <div className="h-px bg-gray-200 my-8"></div>
                                <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step4Title}</h2>
                                <p className="text-gray-600 mb-6">{text.step4Description}</p>
                                
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                                    {text.finalChoice.map(choice => (
                                        <button
                                            key={choice.type}
                                            onClick={() => setActiveTestType(activeTestType === choice.type ? null : choice.type)}
                                            className={`p-6 rounded-2xl transition-all duration-300 transform ${
                                                activeTestType === choice.type ? 'bg-indigo-100 ring-2 ring-indigo-500 shadow-md scale-105' : 'bg-gray-100 hover:bg-gray-200 hover:shadow-md'
                                            }`}
                                        >
                                            <div className="flex items-center">
                                                <span className="text-lg font-semibold text-gray-900">{choice.type}</span>
                                                {activeTestType === choice.type && icons['ChevronRight']}
                                            </div>
                                            <p className="mt-2 text-sm text-left text-gray-600">
                                                {choice.condition === 'Dados Normais' ? (
                                                    <>Dados <strong>normais</strong></>
                                                ) : (
                                                    <>Dados <strong>não normais</strong></>
                                                )}
                                            </p>
                                        </button>
                                    ))}
                                </div>
                            </>
                        )}
                        
                        {/* Etapa 5: Escolha do Teste Específico */}
                        {activeTestType && (
                            <>
                                <div className="h-px bg-gray-200 my-8"></div>
                                <h2 className="text-xl md:text-2xl font-bold mb-4 text-indigo-700">{text.step5Title}</h2>
                                <p className="text-gray-600 mb-6" dangerouslySetInnerHTML={{ __html: text.detailedTests[activeTestType].intro }}></p>
                                <div className="space-y-4">
                                    {text.detailedTests[activeTestType].list.map(item => (
                                        <button
                                            key={item.name}
                                            onClick={() => setActiveDetailedTest(activeDetailedTest === item.name ? null : item.name)}
                                            className={`w-full p-4 text-left rounded-lg shadow-sm transition-all duration-300 transform ${
                                                activeDetailedTest === item.name ? 'bg-indigo-200 ring-2 ring-indigo-500' : 'bg-gray-100 hover:bg-gray-200'
                                            }`}
                                        >
                                            <div className="flex items-center justify-between">
                                                <h3 className="text-lg font-bold text-gray-900">{item.name}</h3>
                                                {activeDetailedTest !== item.name && icons['ChevronRight']}
                                            </div>
                                            {activeDetailedTest === item.name && (
                                                <div className="mt-2 text-gray-700">
                                                    <p>{item.description}</p>
                                                    <p className="mt-2" dangerouslySetInnerHTML={{ __html: item.example }}></p>
                                                </div>
                                            )}
                                        </button>
                                    ))}
                                </div>
                            </>
                        )}
                    </div>
                </div>
            );
        }

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
